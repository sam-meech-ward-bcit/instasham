{"version":3,"sources":["components/PageHeader/index.js","components/Post/index.js","components/NewPost/index.js","pages/Home/index.js","components/General/Button/index.js","components/UserAuth/SignUpForm/index.js","pages/Signup/index.js","components/UserAuth/LoginForm/index.js","pages/Login/index.js","userManager.js","network/index.js","Theme.js","App.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","grow","flexGrow","menuButton","marginRight","spacing","title","display","breakpoints","up","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","marginLeft","width","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","PageHeader","props","classes","React","useState","anchorEl","setAnchorEl","open","Boolean","handleClose","className","AppBar","Toolbar","IconButton","aria-label","onClick","newPost","Typography","variant","noWrap","InputBase","placeholder","root","input","inputProps","edge","aria-controls","aria-haspopup","event","currentTarget","Menu","id","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","signOut","media","paddingTop","expand","transform","duration","shortest","expandOpen","avatar","red","textField","description","marginBottom","mainCardContent","Post","message","setMessage","post","me","user","icons","expanded","setExpanded","imageComponenets","map","image","index","CardMedia","key","url","commentComponents","comments","comment","Box","component","username","Card","CardHeader","Avatar","alt","src","profile_photo","subheader","CardActions","disableSpacing","like","liked","clsx","exp","flag","aria-expanded","CardContent","total_likes","total_comments","noValidate","autoComplete","onSubmit","preventDefault","submitComment","TextField","value","onChange","e","target","label","Button","type","NewPost","images","setImages","setDescription","allowCrop","posts","flexDirection","margin","Home","setPosts","setTitle","creatingNewPost","setCreatingNewPost","useEffect","a","getPosts","data","console","log","appName","nameData","name","addNewComment","saveComment","postId","createPost","imagesArray","push","savePost","result","likePost","p","showAllComments","getComments","slice","postComponents","logout","button","fontSize","buttonIcon","Icon","icon","size","children","SignUpForm","email","password","values","setValues","imageRef","createRef","change","newValues","current","files","fullWidth","accept","multiple","ref","htmlFor","container","maxWidth","down","SignUp","error","setError","signup","to","LoginForm","signin","getToken","localStorage","getItem","saveToken","accessToken","setItem","getTokenDetails","decoded","token","jwtDecode","Authorization","http","method","path","params","headers","axios","login","then","res","tokenData","removeItem","signUp","formData","FormData","append","JSON","stringify","fullName","dataURLtoFile","dataurl","filename","arr","split","mime","match","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","File","uuid","forEach","Theme","pallet","t","createMuiTheme","light","ThemeProvider","CssBaseline","PrivateRoute","Component","rest","render","pathname","state","from","location","PublicRoute","App","setUser","loginOrSignUp","promise","errors","catch","network","sendLogin","credentials","sendSignUp","prefersDarkMode","useMediaQuery","window","hostname","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.bde60021.chunk.js","sourcesContent":["import React from 'react';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport { AppBar, Avatar, Toolbar, IconButton, Typography, InputBase, Badge, MenuItem, Menu } from '@material-ui/core'\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MailIcon from '@material-ui/icons/Mail';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport AddIcon from '@material-ui/icons/AddCircle';\n\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('md')]: {\n      width: '20ch',\n    },\n  },\n  sectionDesktop: {\n    display: 'none',\n    [theme.breakpoints.up('md')]: {\n      display: 'flex',\n    },\n  },\n  sectionMobile: {\n    display: 'flex',\n    [theme.breakpoints.up('md')]: {\n      display: 'none',\n    },\n  },\n}));\n\nexport default function PageHeader(props) {\n  const classes = useStyles()\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  }\n\n  const signOut = () => {\n    handleClose()\n    props.signOut()\n  }\n\n\n\n  return (\n    <div className={classes.grow}>\n      <AppBar position=\"static\">\n        <Toolbar>\n        <IconButton\n              aria-label=\"add a new post\"\n              onClick={props.newPost}\n              color=\"inherit\"\n            >\n              <AddIcon />\n            </IconButton>\n          <Typography className={classes.title} variant=\"h6\" noWrap>\n            {props.title}\n          </Typography>\n          <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <InputBase\n              placeholder=\"Searchâ€¦\"\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput,\n              }}\n              inputProps={{ 'aria-label': 'search' }}\n            />\n          </div>\n          <div className={classes.grow} />\n          <IconButton\n              edge=\"end\"\n              aria-label=\"account of current user\"\n              aria-controls=\"menu-appbar\"\n              aria-haspopup=\"true\"\n              onClick={handleMenu}\n              color=\"inherit\"\n            >\n              <AccountCircle />\n            </IconButton>\n            <Menu\n                id=\"menu-appbar\"\n              anchorEl={anchorEl}\n              anchorOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n              keepMounted\n              transformOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n              open={open}\n              onClose={handleClose}\n            >\n              <MenuItem onClick={handleClose}>Profile</MenuItem>\n              <MenuItem onClick={signOut}>Sign Out</MenuItem>\n            </Menu>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}","import React, { useState } from 'react'\n\nimport { Box, TextField, Button, Slide, Card, CardHeader, CardMedia, CardContent, CardActions, Collapse, Avatar, IconButton, Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport * as icons from '@material-ui/icons'\n\nimport clsx from 'clsx'\n\nimport { red } from '@material-ui/core/colors'\nimport FavoriteIcon from '@material-ui/icons/Favorite'\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder'\nimport CommentIcon from '@material-ui/icons/Comment'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport MoreVertIcon from '@material-ui/icons/MoreVert'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: 600,\n  },\n  media: {\n    height: 0,\n    paddingTop: '56.25%', // 16:9\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n  avatar: {\n    backgroundColor: red[500],\n  },\n  textField: {\n    flexGrow: 1\n  },\n  description: {\n    marginBottom: 10\n  },\n  mainCardContent: {\n    paddingTop: 0\n  }\n}))\n\nexport default function Post(props) {\n  const classes = useStyles(props)\n  const [message, setMessage] = useState(\"\")\n\n  const { post, user, me } = props\n\n  const LeftIcon = icons['MoreHoriz']\n\n  const [expanded, setExpanded] = React.useState(false)\n\n  const handleExpandClick = () => {\n    const exp = !expanded\n    setExpanded(exp)\n    props.setExpanded({...post, flag: exp})\n  }\n\n  const imageComponenets = post.media.map((image, index) => (\n    <CardMedia \n        key={index}\n        className={classes.media}\n        image={image.url}\n      />\n  ))\n\n  const commentComponents = post.comments.map(comment => (\n    <Box display=\"flex\" key={comment.id}>\n    <Typography variant=\"subtitle2\" component=\"h6\">\n      {comment.user.username}: &nbsp;\n    </Typography>\n    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n      {comment.message}\n    </Typography>\n    </Box>\n  ))\n\n  const postComment = event => {\n    event.preventDefault()\n    props.submitComment({message, id: post.id})\n  }\n  const likeAction = () => {\n    props.like(post)\n  }\n  const commentAction = () => {\n    props.comment(post)\n  }\n\n\n  return (\n    <Card className={`${classes.root} ${props.className}`}>\n      <CardHeader\n        avatar={\n          <Avatar aria-label=\"user\" alt={post.user.username} src={post.user.profile_photo} className={classes.avatar}>\n          </Avatar>\n        }\n        // action={\n        //   <IconButton aria-label=\"settings\">\n        //     <LeftIcon />\n        //   </IconButton>\n        // }\n        title={post.user.username}\n        subheader=\"\"\n      />\n\n      {imageComponenets}\n\n      <CardActions disableSpacing>\n        <IconButton aria-label=\"like\" onClick={likeAction}>\n      { me.liked ? <FavoriteIcon /> : <FavoriteBorderIcon/> }\n        </IconButton>\n        {/* <IconButton aria-label=\"comment\" onClick={commentAction}>\n          <CommentIcon />\n        </IconButton> */}\n        <IconButton\n          className={clsx(classes.expand, {\n            [classes.expandOpen]: expanded,\n          })}\n          onClick={handleExpandClick}\n          aria-expanded={expanded}\n          aria-label=\"show more\"\n        >\n          <ExpandMoreIcon />\n        </IconButton>\n      </CardActions>\n      \n      <CardContent className={classes.mainCardContent}>\n        <Typography className={classes.description} variant=\"body2\" component=\"p\">\n          Liked by {post.total_likes} people\n        </Typography>\n        <Typography className={classes.description} variant=\"body2\" component=\"p\">\n          {post.total_comments || 0} comments\n        </Typography>\n        <Typography className={classes.description} variant=\"body2\" color=\"textSecondary\" component=\"p\">\n          {post.description}\n        </Typography>\n        {commentComponents}\n      </CardContent>\n      \n      <hr />\n      \n      <form className={classes.root} noValidate autoComplete=\"off\" onSubmit={postComment}>\n        <Box display=\"flex\">\n          <TextField value={message} onChange={e => setMessage(e.target.value)} className={classes.textField} id=\"standard-basic\" label=\"Add a comment...\" />\n          <Button type=\"submit\">Post</Button>\n        </Box>\n      </form>\n    </Card>\n  )\n}","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { TextField, Card, Button } from '@material-ui/core'\n// https://www.npmjs.com/package/react-multiple-image-input\nimport MultiImageInput from 'react-multiple-image-input'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: 600,\n  },\n  input: {\n    display: 'none',\n  },\n}))\n\nexport default function NewPost(props) {\n  const classes = useStyles()\n\n  const [images, setImages] = useState({})\n  const [description, setDescription] = useState(\"\")\n\n  const submit = event => {\n    event.preventDefault()\n    props.onSubmit({images, description})\n  }\n\n  return (\n    <Card className={classes.root}>\n    <MultiImageInput\n      images={images}\n      setImages={setImages}\n      allowCrop={false}\n    />\n    <form onSubmit={submit}>\n    <TextField value={description} onChange={e => setDescription(e.target.value)} label=\"Description\"></TextField>\n    <Button type=\"submit\">Post</Button>\n    </form>\n    </Card>\n  )\n}","import React, { useEffect, useState } from 'react'\n\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport PageHeader from '../../components/PageHeader'\nimport Post from '../../components/Post'\nimport NewPost from '../../components/NewPost'\n\nconst useStyles = makeStyles((theme) => ({\n  posts: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  post: {\n    margin: \"10px 0\"\n  }\n}))\n\nexport default function Home(props) {\n  const [posts, setPosts] = useState([])\n  const [title, setTitle] = useState(\"\")\n  const [creatingNewPost, setCreatingNewPost] = useState(false)\n\n  const classes = useStyles(props)\n\n  useEffect(() => {\n    (async () => {\n      const data = await props.getPosts()\n      console.log(data)\n      setPosts(data.posts)\n      const nameData = await props.appName()\n      setTitle(nameData.name)\n    })()\n  }, [])\n\n  const addNewComment = async ({message, id}) => {\n    const { comment } = await props.saveComment({message, postId: id})\n\n    setPosts(posts => posts.map(post => post.id != id ? post : {...post, comments: [comment, ...post.comments]} ))\n  }\n\n  const newPost = () => {\n    setCreatingNewPost(creatingNewPost => !creatingNewPost)\n  }\n\n  const createPost = async ({images, description}) => {\n    let imagesArray = []\n    for (const key in images) {\n      imagesArray.push(images[key])\n    }\n    const result = await props.savePost({images: imagesArray, description})\n    console.log(result)\n    setPosts(posts => [result.post, ...posts])\n    setCreatingNewPost(false)\n  }\n\n  const likePost = async ({id}) => {\n    const { post } = await props.likePost({postId: id})\n    setPosts(posts => posts.map(p => p.id != id ? p : post))\n  }\n\n  const showAllComments = async ({id, flag}) => {\n    if (flag) {\n      const {comments} = await props.getComments({postId: id})\n      setPosts(posts => posts.map(p => p.id != id ? p : {...p, comments}))\n    } else {\n      setPosts(posts => posts.map(p => p.id != id ? p : {...p, comments: p.comments.slice(0,2)}))\n    }\n  }\n\n  const postComponents = posts.map(post => {\n    return <Post \n      key={post.id}\n      className={classes.post}\n      submitComment={addNewComment}\n      like={likePost}\n      comment={console.log}\n      user={props.user}\n      post={post}\n      setExpanded={showAllComments}\n      me={\n        {\n          liked: true\n        }\n      }\n      ></Post>\n  })\n\n  return (\n    <div>\n      <PageHeader title={title} signOut={props.logout} newPost={newPost} ></PageHeader>\n      <div className={classes.posts}>\n      { creatingNewPost ?\n      <NewPost onSubmit={createPost}></NewPost>\n      :\n      postComponents\n      }\n      </div>\n    </div>\n  )\n}","import React from 'react'\n\nimport { IconButton } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport * as icons from '@material-ui/icons'\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    // backgroundColor: theme.action.main,\n    // color: theme.action.contrastText,\n    fontSize: \"1.2em\",\n    borderRadius: \"8px\",\n    '&:hover': {\n      // backgroundColor: theme.primary.main,\n    }\n  },\n  buttonIcon: {\n    height: '100%',\n    margin: 0,\n  }\n}))\n\nexport default function Button(props) {\n  const classes = useStyles(props)\n  let Icon = props.icon ? icons[props.icon] : null\n\n  return (\n    <IconButton {...props} size=\"medium\" className={`${classes.button} ${props.className}`} onClick={props.onClick} color=\"inherit\" aria-label=\"menu\">\n      { Icon && \n        <Icon className={classes.buttonIcon} />\n      }\n      {props.children}\n    </IconButton>\n  )\n}","import React, { useState, createRef } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { TextField } from '@material-ui/core'\nimport Button from '../../General/Button'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n  },\n  button: {\n    margin: \"20px 0\",\n    width: \"100%\"\n  },\n  input: {\n    display: 'none',\n  },\n}));\n\nexport default function SignUpForm(props) {\n  const classes = useStyles(props)\n  const [values, setValues] = useState({username: \"\", email: \"\", password: \"\", image: null})\n\n  const imageRef = createRef()\n\n  function change(key) {\n    return function(event) {\n      const newValues = {...values}\n      newValues[key] = event.target.value\n      setValues(newValues)\n    }\n  }\n\n  function submit(event) {\n    event.preventDefault()\n    props.onSubmit({...values, image: imageRef.current.files[0]})\n  }\n\n  return (\n    <form onSubmit={submit} className={classes.root} noValidate autoComplete=\"off\">\n      <TextField value={values.username} onChange={change(\"username\")} id=\"username-input\" fullWidth label=\"Username\" />\n      <TextField value={values.email} onChange={change(\"email\")} id=\"email-input\" fullWidth label=\"Email\" />\n      <TextField type=\"password\" value={values.password} onChange={change(\"password\")} id=\"password-input\" fullWidth label=\"Password\" />\n      \n      <input\n        accept=\"image/*\"\n        className={classes.input}\n        id=\"contained-button-file\"\n        multiple\n        type=\"file\"\n        ref={imageRef}\n      />\n      <label htmlFor=\"contained-button-file\">\n        <Button  className={classes.button} variant=\"contained\" color=\"primary\" component=\"span\">\n          Profile Image\n        </Button>\n      </label>\n      \n      \n      <Button className={classes.button} type=\"submit\">Sign Me Up!</Button>\n    </form>\n  );\n}\n","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport SignUpForm from '../../components/UserAuth/SignUpForm'\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    maxWidth: \"600px\", \n    margin: \"auto\",\n    [theme.breakpoints.down('sm')]: {\n      maxWidth: \"80%\",\n    },\n  },\n}))\n\nexport default function SignUp(props) {\n  const [error, setError] = useState(null)\n  const classes = useStyles(props)\n  \n  async function onSubmit(values) {\n    setError(null)\n    for(const key in values) {\n      if (!values[key]) {\n        setError(`You must enter a valid ${key}`)\n        return\n      }\n    }\n    try {\n      await props.signup(values)\n    } catch (error) {\n      setError(error.message)\n    }\n  }\n\n  return (\n    <div className={classes.container}>\n      <SignUpForm onSubmit={onSubmit}></SignUpForm>\n      <Typography>Already have an account? <Link to=\"/login\">Login</Link></Typography>\n      {error && <Typography>{error}</Typography>}\n    </div>\n  )\n}\n","import React, {useState} from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { TextField } from '@material-ui/core'\nimport Button from '../../General/Button'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n  },\n  button: {\n    margin: \"20px 0\",\n    width: \"100%\"\n  }\n}));\n\nexport default function LoginForm(props) {\n  const classes = useStyles(props)\n  const [values, setValues] = useState({username: \"\", password: \"\", email: \"\"})\n\n  function change(key) {\n    return function(event) {\n      const newValues = {...values}\n      newValues[key] = event.target.value\n      setValues(newValues)\n    }\n  }\n\n  function submit(event) {\n    event.preventDefault()\n    props.onSubmit(values)\n  }\n\n  return (\n    <form onSubmit={submit} className={classes.root} noValidate autoComplete=\"off\">\n      {/* <TextField value={values.username} onChange={change(\"username\")} id=\"username-input\" fullWidth label=\"Username\" /> */}\n      <TextField value={values.email} onChange={change(\"email\")} id=\"email-input\" fullWidth label=\"Email\" />\n      <TextField type=\"password\" value={values.password} onChange={change(\"password\")} id=\"password-input\" fullWidth label=\"Password\" />\n      <Button className={classes.button} type=\"submit\">Login</Button>\n    </form>\n  );\n}\n","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport LoginForm from '../../components/UserAuth/LoginForm'\nimport { Typography } from '@material-ui/core'\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    maxWidth: \"600px\", \n    margin: \"auto\",\n    [theme.breakpoints.down('sm')]: {\n      maxWidth: \"80%\",\n    },\n  },\n}))\n\nexport default function SignUp(props) {\n  const [error, setError] = useState(null)\n  const classes = useStyles()\n\n  async function onSubmit(values) {\n    setError(null)\n    try {\n      await props.signin(values)\n    } catch (error) {\n      setError(error.message)\n    }\n  }\n\n  return (\n    <div className={classes.container}>\n      <LoginForm onSubmit={onSubmit}></LoginForm>\n      <Typography>Don't have an account? <Link to=\"/signup\">Sign up</Link></Typography>\n      {error && <Typography>{error}</Typography>}\n    </div>\n  )\n}\n","import jwtDecode from 'jwt-decode'\n\nexport function getToken() {\n  const token = localStorage.getItem('token')\n  return token\n}\n\nexport function saveToken(accessToken) {\n  localStorage.setItem('token', accessToken)\n}\n\nexport function getTokenDetails() {\n  let decoded\n  const token = getToken()\n  if (!token) {\n    return null\n  }\n  try {\n    decoded = jwtDecode(token)\n  } catch (e) {\n    console.log(e)\n  }\n  return decoded\n}\n\nexport function removeToken() {\n  localStorage.removeItem('token')\n}\n\n","import axios from 'axios'\nimport { v4 as uuid } from 'uuid'\n\nimport { saveToken, getToken, getTokenDetails, removeToken } from '../userManager'\n\nfunction token() {\n  const token = getToken()\n  if (!token) {\n    return {}\n  }\n  return { Authorization: `Bearer ${token}` }\n}\n\nfunction http({method, path, params}) {\n  console.log(token())\n  const headers = {\n    ...token(),\n    \"Access-Control-Allow-Origin\" : \"*\",\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n  }\n  console.log('headers', headers)\n  if (method == 'get') {\n    return axios[method](path, { headers })\n  }\n  return axios[method](path, params, { headers })\n}\n\nexport const login = ({email, password}) => {\n  console.log(email, password)\n  return http({method: 'post', path: `/api/users/login`, params: {user: {email, password}}})\n  .then(res => {\n    const { accessToken } = res.data\n    console.log(accessToken)\n    saveToken(accessToken)\n    const tokenData = getTokenDetails()\n    if (!tokenData) {\n      return null\n    }\n    return tokenData\n  })\n}\n\nexport const logout = () => {\n  removeToken()\n  return http({method: 'post', path: `/api/users/logout`}).then(res => res.data)\n}\n\nexport const signUp = ({email, password, username, image}) => {\n  console.log(email, password, image)\n  // return http({method: 'post', path: `/api/users`, params: {user: {email, password, username, fullName: \"Full name\"}}})\n  // .then(res => {\n  //   const { accessToken } = res.data\n  //   console.log(accessToken)\n  //   saveToken(accessToken)\n  //   const tokenData = getTokenDetails()\n  //   if (!tokenData) {\n  //     return null\n  //   }\n  //   return tokenData\n  // })\n\n  const formData = new FormData()\n \n  formData.append(\"avatar\", image)\n  formData.append('user', JSON.stringify({email, password, username, fullName: \"Full name\"}))\n\n  return axios.post('/api/users', formData, { headers: {'Content-Type': 'multipart/form-data', ...token()}})\n  .then(res => {\n    const { accessToken } = res.data\n    console.log(accessToken)\n    saveToken(accessToken)\n    const tokenData = getTokenDetails()\n    if (!tokenData) {\n      return null\n    }\n    return tokenData\n  })\n}\n\nconst dataURLtoFile = (dataurl, filename) => {\n  const arr = dataurl.split(',')\n  const mime = arr[0].match(/:(.*?);/)[1]\n  const bstr = atob(arr[1])\n  let n = bstr.length\n  const u8arr = new Uint8Array(n)\n  while (n) {\n    u8arr[n - 1] = bstr.charCodeAt(n - 1)\n    n -= 1 // to make eslint happy\n  }\n  return new File([u8arr], filename || uuid(), { type: mime })\n}\n\nexport function savePost({images, description}) {\n  const formData = new FormData();\n \n  images.map(dataURLtoFile).forEach(image => formData.append(\"images\", image))\n  formData.append('description', description)\n\n  return axios.post('/api/posts', formData, { headers: {'Content-Type': 'multipart/form-data', ...token()}})\n  .then(res => res.data)\n}\n\nexport function saveComment({postId, message}) {\n  return http({method: 'post', path: `/api/posts/${postId}/comments`, params: {message, postId}})\n  .then(res => res.data)\n}\n\nexport function likePost({postId}) {\n  return http({method: 'post', path: `/api/posts/${postId}/likes`, params: {postId}})\n  .then(res => res.data)\n}\n\nexport function getPosts() {\n  return http({method: 'get', path: `/api/posts?limit=11`})\n  .then(res => res.data)\n}\n\nexport function getComments({postId}) {\n  return http({method: 'get', path: `/api/posts/${postId}/comments`})\n  .then(res => res.data)\n}\n\nexport async function me() {\n  const tokenData = getTokenDetails()\n  if (!tokenData) {\n    return null\n  }\n  return tokenData\n  // return http({method: 'get', path: `/api/users/me`})\n  // .then(res => res.data)\n}\n\nexport function appName() {\n  return http({method: 'get', path: `/api/appName`})\n  .then(res => res.data)\n}","import React from 'react'\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core/styles'\nimport CssBaseline from '@material-ui/core/CssBaseline'\n\nfunction theme(pallet) {\n  return createMuiTheme({\n    backgroundColor: pallet.light ? \"white\" : \"black\",\n  })\n}\n\nexport default function Theme(props) {\n  const t = theme(props.pallet)\n\n  return (\n    <>\n    <ThemeProvider theme={t}>\n    <CssBaseline />\n      {props.children}\n    </ThemeProvider>\n    </>\n  );\n}","import React, { useState, useEffect } from 'react'\n\nimport {\n  Route,\n  BrowserRouter as Router,\n  Switch,\n  Redirect,\n} from \"react-router-dom\"\n\nimport Home from './pages/Home'\nimport Signup from './pages/Signup'\nimport Login from './pages/Login'\n\nimport * as network from './network'\n\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\nimport Theme from './Theme'\n\nfunction PrivateRoute({ component: Component, user, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) => user\n        ? <Component {...props} {...rest} />\n        : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />}\n    />\n  )\n}\n\nfunction PublicRoute({ component: Component, user, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) => !user\n        ? <Component {...props} />\n        : <Redirect to='/' />}\n    />\n  )\n}\n\nfunction App() {\n  const [user, setUser] = useState(null)\n  const [error, setError] = useState(null)\n\n  const loginOrSignUp = promise => {\n    promise\n    .then(data => {\n      if (!data) {\n        setError(null)\n        setUser(null)\n        return\n      }\n      if (data.errors) {\n        setError(data.errors[0])\n        setUser(null)\n        return\n      }\n      setError(null)\n      setUser(data.user)\n    })\n    .catch(error => {\n      console.log(error)\n      setError(\"Invalid email or password\")\n      // if (error.message.includes(\"403\")) {\n      //   setError(null)\n      // } else {\n      //   setError(error)\n      // }\n      setUser(null)\n    })\n  }\n\n  useEffect(() => {\n    loginOrSignUp(network.me())\n  }, [])\n\n\n  const sendLogin = credentials => {\n    loginOrSignUp(network.login(credentials))\n  }\n\n  const sendSignUp = credentials => {\n    loginOrSignUp(network.signUp(credentials))\n  }\n\n  const logout = () => {\n    setUser(null)\n    network.logout()\n  }\n\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)')\n\n  const MySignup = () => (\n    <Signup signup={sendSignUp}></Signup>\n  )\n\n  const MyLogin = () => (\n    <Login signin={sendLogin}></Login>\n  )\n\n  const MyHome = () => (\n    <Home {...network} logout={logout} user={user} ></Home>\n  )\n\n  return (\n    <Theme pallet={prefersDarkMode ? 'dark' : 'light'}>\n      { error ?\n      <h2>{error}...</h2> : \n    <Router>\n      <Switch>\n        <PublicRoute path=\"/login\" user={user} component={MyLogin}></PublicRoute>\n        <PublicRoute path=\"/signup\" user={user} component={MySignup}></PublicRoute>\n        <PrivateRoute path=\"/\" user={user} component={MyHome}></PrivateRoute>\n      </Switch>\n    </Router>\n    }\n    </Theme>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}